
<html>
<head>
    <meta charset="utf-8">
    <title>权重篇 1.0 气泡图</title>
    <style>
        .bubble circle {
            stroke: black;
            stroke-width: 2px;
        }

        .bubble text {
            fill: black;
            font-size: 14px;
            font-family: arial;
            text-anchor: middle;
        }
    </style>
</head>
<body style="background-color:#050505;">

    <script src="d3.v3.min.js"></script>
     
    <script>
        var winWidth= 1400;	//SVG绘制区域的宽度
        var winHeight= 800;	//SVG绘制区域的高度\ // 获取窗口宽度
        if (window.innerWidth)
            winWidth = window.innerWidth;
        else if ((document.body) && (document.body.clientWidth))
            winWidth = document.body.clientWidth;
        // 获取窗口高度
        if (window.innerHeight)
            winHeight = window.innerHeight;
        else if ((document.body) && (document.body.clientHeight))
            winHeight = document.body.clientHeight;
        winHeight=winHeight; 
         
   var title_width = 400;//标题宽度 
   var title_height = 60;//标题高度
                  

        var root = {
            "children":
            [
    { "ID": "531", "value": "3705" },
    { "ID": "438", "value": "3535" },
    { "ID": "5169", "value": "2053" },
    { "ID": "36555", "value": "2047" },
    { "ID": "9266", "value": "1740" },
    { "ID": "90971", "value": "1721" },
    { "ID": "9036", "value": "1480" },
    { "ID": "5166", "value": "1415" },
    { "ID": "451004", "value": "1293" },
    { "ID": "9045", "value": "1144" },
    { "ID": "451000", "value": "1102" },
    { "ID": "73005", "value": "994" },
    { "ID": "70145", "value": "824" },
    { "ID": "2970", "value": "810" },
    { "ID": "3344", "value": "806" },
    { "ID": "73004", "value": "759" },
    { "ID": "35212", "value": "737" },
    { "ID": "451001", "value": "729" },
    { "ID": "485", "value": "688" },
    { "ID": "70146", "value": "683" },
    { "ID": "5186", "value": "628" },
    { "ID": "9752", "value": "474" },
    { "ID": "57104", "value": "453" },
    { "ID": "7093", "value": "449" },
    { "ID": "70515", "value": "445" },
    { "ID": "72706", "value": "414" },
    { "ID": "3294", "value": "407" },
    { "ID": "3084", "value": "403" },
    { "ID": "2966", "value": "392" },
    { "ID": "7541", "value": "392" },
    { "ID": "479", "value": "386" },
    { "ID": "8069", "value": "365" },
    { "ID": "2967", "value": "346" },
    { "ID": "451002", "value": "341" },
    { "ID": "8663", "value": "329" },
    { "ID": "9000", "value": "320" },
    { "ID": "90916", "value": "317" },
    { "ID": "8064", "value": "301" },
    { "ID": "36547", "value": "281" },
    { "ID": "9265", "value": "276" },
    { "ID": "450400", "value": "265" },
    { "ID": "3281", "value": "253" },
    { "ID": "450000", "value": "251" },
    { "ID": "5189", "value": "240" },
    { "ID": "73506", "value": "234" },
    { "ID": "73006", "value": "232" },
    { "ID": "7094", "value": "228" },
    { "ID": "59502", "value": "225" },
    { "ID": "451003", "value": "224" },
    { "ID": "5029", "value": "213" },
    { "ID": "91874", "value": "208" },
    { "ID": "95401", "value": "201" },
    { "ID": "9009", "value": "189" },
    { "ID": "36531", "value": "182" },
    { "ID": "450100", "value": "181" },
    { "ID": "5165", "value": "180" },
    { "ID": "57611", "value": "179" },
    { "ID": "9200", "value": "171" },
    { "ID": "5187", "value": "162" },
    { "ID": "451005", "value": "161" },
    { "ID": "73002", "value": "156" },
    { "ID": "3360", "value": "156" },
    { "ID": "450200", "value": "153" },
    { "ID": "59028", "value": "152" },
    { "ID": "8758", "value": "151" },
    { "ID": "90977", "value": "143" },
    { "ID": "71717", "value": "136" },
    { "ID": "9004", "value": "128" },
    { "ID": "9256", "value": "127" },
    { "ID": "57602", "value": "124" },
    { "ID": "3327", "value": "122" },
    { "ID": "3363", "value": "120" },
    { "ID": "57557", "value": "120" },
    { "ID": "70554", "value": "117" },
    { "ID": "91894", "value": "115" },
    { "ID": "451006", "value": "115" },
    { "ID": "9038", "value": "113" },
    { "ID": "555", "value": "112" },
    { "ID": "5180", "value": "106" },
    { "ID": "450300", "value": "104" },
    { "ID": "401", "value": "100" },
    { "ID": "36545", "value": "100" },
    { "ID": "5205", "value": "98" },
    { "ID": "8002", "value": "96" },
    { "ID": "73007", "value": "92" },
    { "ID": "3323", "value": "91" },
    { "ID": "9210", "value": "90" },
    { "ID": "9006", "value": "89" },
    { "ID": "556", "value": "89" },
    { "ID": "5080", "value": "84" },
    { "ID": "72701", "value": "81" },
    { "ID": "70126", "value": "81" },
    { "ID": "8751", "value": "80" },
    { "ID": "36546", "value": "80" },
    { "ID": "90904", "value": "77" },
    { "ID": "72710", "value": "76" },
    { "ID": "35213", "value": "76" },
    { "ID": "70104", "value": "75" },
    { "ID": "70555", "value": "73" },
    { "ID": "3087", "value": "73" },
    { "ID": "2960", "value": "72" },
    { "ID": "70519", "value": "71" },
    { "ID": "8085", "value": "70" },
    { "ID": "9755", "value": "66" },
    { "ID": "7001", "value": "64" },
    { "ID": "70524", "value": "63" },
    { "ID": "451007", "value": "60" },
    { "ID": "5188", "value": "60" },
    { "ID": "5168", "value": "58" },
    { "ID": "451", "value": "57" },
    { "ID": "5598", "value": "56" },
    { "ID": "3159", "value": "55" },
    { "ID": "7538", "value": "55" },
    { "ID": "57022", "value": "55" },
    { "ID": "7095", "value": "54" },
    { "ID": "57603", "value": "53" },
    { "ID": "70102", "value": "53" },
    { "ID": "72718", "value": "52" },
    { "ID": "70556", "value": "51" },
    { "ID": "9813", "value": "51" },
    { "ID": "3181", "value": "50" },
    { "ID": "70148", "value": "50" },
    { "ID": "3189", "value": "49" },
    { "ID": "3194", "value": "48" },
    { "ID": "439", "value": "47" },
    { "ID": "57500", "value": "47" },
    { "ID": "70127", "value": "46" },
    { "ID": "71711", "value": "46" },
    { "ID": "73501", "value": "45" },
    { "ID": "57010", "value": "45" },
    { "ID": "35017", "value": "45" },
    { "ID": "57105", "value": "44" },
    { "ID": "5175", "value": "43" },
    { "ID": "8740", "value": "42" },
    { "ID": "57513", "value": "42" },
    { "ID": "70105", "value": "41" },
    { "ID": "8017", "value": "41" },
    { "ID": "3029", "value": "41" },
    { "ID": "57604", "value": "40" },
    { "ID": "8638", "value": "39" },
    { "ID": "5171", "value": "38" },
    { "ID": "59107", "value": "38" },
    { "ID": "71718", "value": "36" },
    { "ID": "2949", "value": "36" },
    { "ID": "5181", "value": "35" },
    { "ID": "5603", "value": "33" },
    { "ID": "3000", "value": "33" },
    { "ID": "5190", "value": "31" },
    { "ID": "5064", "value": "31" },
    { "ID": "3605", "value": "31" },
    { "ID": "70545", "value": "31" },
    { "ID": "70557", "value": "30" },
    { "ID": "3160", "value": "30" },
    { "ID": "7547", "value": "30" },
    { "ID": "9051", "value": "30" },
    { "ID": "35208", "value": "30" },
    { "ID": "57503", "value": "29" },
    { "ID": "9224", "value": "28" },
    { "ID": "8752", "value": "27" },
    { "ID": "8001", "value": "25" },
    { "ID": "3262", "value": "25" },
    { "ID": "570", "value": "25" },
    { "ID": "59029", "value": "25" },
    { "ID": "59505", "value": "24" },
    { "ID": "36569", "value": "24" },
    { "ID": "72702", "value": "24" },
    { "ID": "450600", "value": "24" },
    { "ID": "8517", "value": "24" },
    { "ID": "9201", "value": "24" },
    { "ID": "9757", "value": "24" },
    { "ID": "9700", "value": "23" },
    { "ID": "70561", "value": "23" },
    { "ID": "91885", "value": "23" },
    { "ID": "70106", "value": "23" },
    { "ID": "71700", "value": "22" },
    { "ID": "501", "value": "22" },
    { "ID": "3134", "value": "22" },
    { "ID": "3348", "value": "22" },
    { "ID": "5079", "value": "22" },
    { "ID": "9818", "value": "21" },
    { "ID": "70549", "value": "21" },
    { "ID": "90802", "value": "21" },
    { "ID": "70502", "value": "21" },
    { "ID": "57541", "value": "21" },
    { "ID": "450500", "value": "21" },
    { "ID": "73505", "value": "20" },
    { "ID": "35218", "value": "20" },
    { "ID": "8003", "value": "20" },
    { "ID": "57570", "value": "19" },
    { "ID": "57588", "value": "18" },
    { "ID": "63602", "value": "18" },
    { "ID": "70115", "value": "18" },
    { "ID": "7515", "value": "18" },
    { "ID": "8593", "value": "18" },
    { "ID": "36534", "value": "18" },
    { "ID": "36548", "value": "18" },
    { "ID": "5515", "value": "18" },
    { "ID": "7005", "value": "18" },
    { "ID": "3145", "value": "18" },
    { "ID": "3215", "value": "17" },
    { "ID": "7096", "value": "17" },
    { "ID": "5500", "value": "17" },
    { "ID": "3321", "value": "17" },
    { "ID": "35018", "value": "17" },
    { "ID": "8671", "value": "17" },
    { "ID": "9030", "value": "17" },
    { "ID": "8015", "value": "16" },
    { "ID": "5554", "value": "16" },
    { "ID": "416", "value": "16" },
    { "ID": "59506", "value": "16" },
    { "ID": "70147", "value": "16" },
    { "ID": "59026", "value": "16" },
    { "ID": "57106", "value": "16" },
    { "ID": "57320", "value": "16" },
    { "ID": "73010", "value": "16" },
    { "ID": "128286", "value": "16" },
    { "ID": "73015", "value": "15" },
    { "ID": "90801", "value": "15" },
    { "ID": "71719", "value": "15" },
    { "ID": "63601", "value": "15" },
    { "ID": "3135", "value": "15" },
    { "ID": "5074", "value": "15" },
    { "ID": "8086", "value": "15" },
    { "ID": "8725", "value": "15" },
    { "ID": "8753", "value": "15" },
    { "ID": "9814", "value": "15" },
    { "ID": "35220", "value": "15" },
    { "ID": "35215", "value": "15" },
    { "ID": "9206", "value": "14" },
    { "ID": "8012", "value": "14" },
    { "ID": "3120", "value": "14" },
    { "ID": "3342", "value": "14" },
    { "ID": "3367", "value": "13" },
    { "ID": "5182", "value": "13" },
    { "ID": "5601", "value": "13" },
    { "ID": "9035", "value": "13" },
    { "ID": "9020", "value": "13" },
    { "ID": "9025", "value": "13" },
    { "ID": "70141", "value": "13" },
    { "ID": "73008", "value": "13" },
    { "ID": "71702", "value": "13" },
    { "ID": "73013", "value": "13" },
    { "ID": "71703", "value": "12" },
    { "ID": "72744", "value": "12" },
    { "ID": "36578", "value": "12" },
    { "ID": "9834", "value": "12" },
    { "ID": "35119", "value": "12" },
    { "ID": "3136", "value": "12" },
    { "ID": "9269", "value": "11" },
    { "ID": "95052", "value": "11" },
    { "ID": "59032", "value": "11" },
    { "ID": "450700", "value": "11" },
    { "ID": "96002", "value": "10" },
    { "ID": "108622", "value": "10" },
    { "ID": "59501", "value": "10" },
    { "ID": "90962", "value": "10" },
    { "ID": "72703", "value": "10" },
    { "ID": "70550", "value": "10" },
    { "ID": "9021", "value": "10" },
    { "ID": "8741", "value": "10" },
    { "ID": "8027", "value": "10" },
    { "ID": "8513", "value": "10" },
    { "ID": "35019", "value": "10" },
    { "ID": "9751", "value": "10" },
    { "ID": "35216", "value": "10" },
    { "ID": "35217", "value": "10" },
    { "ID": "3137", "value": "10" },
    { "ID": "3063", "value": "10" },
    { "ID": "3332", "value": "10" },
    { "ID": "7004", "value": "9" },
    { "ID": "7007", "value": "9" },
    { "ID": "35206", "value": "9" },
    { "ID": "9268", "value": "9" },
    { "ID": "9712", "value": "9" },
    { "ID": "7533", "value": "9" },
    { "ID": "8735", "value": "9" },
    { "ID": "72752", "value": "9" },
    { "ID": "73012", "value": "9" },
    { "ID": "63603", "value": "9" },
    { "ID": "70525", "value": "9" },
    { "ID": "57330", "value": "8" },
    { "ID": "73502", "value": "8" },
    { "ID": "72753", "value": "8" },
    { "ID": "71723", "value": "8" },
    { "ID": "70551", "value": "8" },
    { "ID": "7549", "value": "8" },
    { "ID": "8532", "value": "8" },
    { "ID": "9744", "value": "8" },
    { "ID": "7002", "value": "8" },
    { "ID": "3600", "value": "8" },
    { "ID": "3241", "value": "8" },
    { "ID": "3192", "value": "8" },
    { "ID": "3089", "value": "8" },
    { "ID": "2996", "value": "7" },
    { "ID": "552", "value": "7" },
    { "ID": "3285", "value": "7" },
    { "ID": "3604", "value": "7" },
    { "ID": "5183", "value": "7" },
    { "ID": "35001", "value": "7" },
    { "ID": "8082", "value": "7" },
    { "ID": "8747", "value": "7" },
    { "ID": "9203", "value": "7" },
    { "ID": "71741", "value": "7" },
    { "ID": "70560", "value": "7" },
    { "ID": "96011", "value": "7" },
    { "ID": "70152", "value": "7" },
    { "ID": "2000140", "value": "7" },
    { "ID": "70113", "value": "6" },
    { "ID": "57321", "value": "6" },
    { "ID": "57000", "value": "6" },
    { "ID": "95007", "value": "6" },
    { "ID": "91875", "value": "6" },
    { "ID": "73509", "value": "6" },
    { "ID": "72903", "value": "6" },
    { "ID": "71705", "value": "6" },
    { "ID": "8092", "value": "6" },
    { "ID": "7540", "value": "6" },
    { "ID": "35000", "value": "6" },
    { "ID": "35106", "value": "6" },
    { "ID": "5164", "value": "6" },
    { "ID": "3303", "value": "6" },
    { "ID": "3178", "value": "6" },
    { "ID": "3105", "value": "6" },
    { "ID": "558", "value": "5" },
    { "ID": "3162", "value": "5" },
    { "ID": "3233", "value": "5" },
    { "ID": "3351", "value": "5" },
    { "ID": "5123", "value": "5" },
    { "ID": "9815", "value": "5" },
    { "ID": "35221", "value": "5" },
    { "ID": "35502", "value": "5" },
    { "ID": "8569", "value": "5" },
    { "ID": "9033", "value": "5" },
    { "ID": "8759", "value": "5" },
    { "ID": "71506", "value": "5" },
    { "ID": "71713", "value": "5" },
    { "ID": "72748", "value": "5" },
    { "ID": "92033", "value": "5" },
    { "ID": "94002", "value": "5" },
    { "ID": "95001", "value": "5" },
    { "ID": "57100", "value": "5" },
    { "ID": "57600", "value": "5" },
    { "ID": "57524", "value": "5" },
    { "ID": "60001", "value": "4" },
    { "ID": "70521", "value": "4" },
    { "ID": "90952", "value": "4" },
    { "ID": "73504", "value": "4" },
    { "ID": "72902", "value": "4" },
    { "ID": "71511", "value": "4" },
    { "ID": "71600", "value": "4" },
    { "ID": "9270", "value": "4" },
    { "ID": "7100", "value": "4" },
    { "ID": "7517", "value": "4" },
    { "ID": "36553", "value": "4" },
    { "ID": "35002", "value": "4" },
    { "ID": "9819", "value": "4" },
    { "ID": "9761", "value": "4" },
    { "ID": "5170", "value": "4" },
    { "ID": "7097", "value": "4" },
    { "ID": "5511", "value": "4" },
    { "ID": "5198", "value": "4" },
    { "ID": "3132", "value": "4" },
    { "ID": "3204", "value": "4" },
    { "ID": "461", "value": "4" },
    { "ID": "445", "value": "3" },
    { "ID": "3104", "value": "3" },
    { "ID": "950", "value": "3" },
    { "ID": "7088", "value": "3" },
    { "ID": "7022", "value": "3" },
    { "ID": "9742", "value": "3" },
    { "ID": "9603", "value": "3" },
    { "ID": "9830", "value": "3" },
    { "ID": "8050", "value": "3" },
    { "ID": "8601", "value": "3" },
    { "ID": "72908", "value": "3" },
    { "ID": "72909", "value": "3" },
    { "ID": "72704", "value": "3" },
    { "ID": "72705", "value": "3" },
    { "ID": "73011", "value": "3" },
    { "ID": "74001", "value": "3" },
    { "ID": "59103", "value": "3" },
    { "ID": "70144", "value": "3" },
    { "ID": "57535", "value": "3" },
    { "ID": "57514", "value": "3" },
    { "ID": "57143", "value": "3" },
    { "ID": "57504", "value": "3" },
    { "ID": "57020", "value": "2" },
    { "ID": "57329", "value": "2" },
    { "ID": "59027", "value": "2" },
    { "ID": "70116", "value": "2" },
    { "ID": "59031", "value": "2" },
    { "ID": "60002", "value": "2" },
    { "ID": "59503", "value": "2" },
    { "ID": "70153", "value": "2" },
    { "ID": "96012", "value": "2" },
    { "ID": "97201", "value": "2" },
    { "ID": "97601", "value": "2" },
    { "ID": "73024", "value": "2" },
    { "ID": "71715", "value": "2" },
    { "ID": "72715", "value": "2" },
    { "ID": "71601", "value": "2" },
    { "ID": "71507", "value": "2" },
    { "ID": "8592", "value": "2" },
    { "ID": "8525", "value": "2" },
    { "ID": "8041", "value": "2" },
    { "ID": "8063", "value": "2" },
    { "ID": "7514", "value": "2" },
    { "ID": "9220", "value": "2" },
    { "ID": "9249", "value": "2" },
    { "ID": "9204", "value": "2" },
    { "ID": "9832", "value": "2" },
    { "ID": "35003", "value": "2" },
    { "ID": "9835", "value": "2" },
    { "ID": "35505", "value": "2" },
    { "ID": "35500", "value": "2" },
    { "ID": "35224", "value": "2" },
    { "ID": "35225", "value": "2" },
    { "ID": "7091", "value": "2" },
    { "ID": "7098", "value": "2" },
    { "ID": "7047", "value": "2" },
    { "ID": "5501", "value": "2" },
    { "ID": "5564", "value": "2" },
    { "ID": "5577", "value": "2" },
    { "ID": "5176", "value": "2" },
    { "ID": "3581", "value": "2" },
    { "ID": "5088", "value": "2" },
    { "ID": "3065", "value": "2" },
    { "ID": "3108", "value": "2" },
    { "ID": "560", "value": "2" },
    { "ID": "3203", "value": "2" },
    { "ID": "3166", "value": "2" },
    { "ID": "3288", "value": "2" },
    { "ID": "3314", "value": "2" },
    { "ID": "3308", "value": "1" },
    { "ID": "3305", "value": "1" },
    { "ID": "3286", "value": "1" },
    { "ID": "3355", "value": "1" },
    { "ID": "3221", "value": "1" },
    { "ID": "3269", "value": "1" },
    { "ID": "3585", "value": "1" },
    { "ID": "5174", "value": "1" },
    { "ID": "5178", "value": "1" },
    { "ID": "5128", "value": "1" },
    { "ID": "5142", "value": "1" },
    { "ID": "5579", "value": "1" },
    { "ID": "5581", "value": "1" },
    { "ID": "5559", "value": "1" },
    { "ID": "5572", "value": "1" },
    { "ID": "5599", "value": "1" },
    { "ID": "5597", "value": "1" },
    { "ID": "6659", "value": "1" },
    { "ID": "7077", "value": "1" },
    { "ID": "6615", "value": "1" },
    { "ID": "6616", "value": "1" },
    { "ID": "6500", "value": "1" },
    { "ID": "6501", "value": "1" },
    { "ID": "6714", "value": "1" },
    { "ID": "35226", "value": "1" },
    { "ID": "35501", "value": "1" },
    { "ID": "36010", "value": "1" },
    { "ID": "35713", "value": "1" },
    { "ID": "9951", "value": "1" },
    { "ID": "9952", "value": "1" },
    { "ID": "35004", "value": "1" },
    { "ID": "9831", "value": "1" },
    { "ID": "9816", "value": "1" },
    { "ID": "35100", "value": "1" },
    { "ID": "35120", "value": "1" },
    { "ID": "9706", "value": "1" },
    { "ID": "9741", "value": "1" },
    { "ID": "9225", "value": "1" },
    { "ID": "9258", "value": "1" },
    { "ID": "9013", "value": "1" },
    { "ID": "8748", "value": "1" },
    { "ID": "8749", "value": "1" },
    { "ID": "7505", "value": "1" },
    { "ID": "8670", "value": "1" },
    { "ID": "8648", "value": "1" },
    { "ID": "71400", "value": "1" },
    { "ID": "71500", "value": "1" },
    { "ID": "71709", "value": "1" },
    { "ID": "71402", "value": "1" },
    { "ID": "70563", "value": "1" },
    { "ID": "70600", "value": "1" },
    { "ID": "73503", "value": "1" },
    { "ID": "73510", "value": "1" },
    { "ID": "73511", "value": "1" },
    { "ID": "70149", "value": "1" },
    { "ID": "70517", "value": "1" },
    { "ID": "57523", "value": "1" },
    { "ID": "60003", "value": "1" },
    { "ID": "57539", "value": "1" },
    { "ID": "57597", "value": "1" },
    { "ID": "57598", "value": "1" },
    { "ID": "57311", "value": "1" },
    { "ID": "57015", "value": "1" },
    { "ID": "57107", "value": "1" },
    { "ID": "36575", "value": "1" },
    { "ID": "108623", "value": "1" },
    { "ID": "200001", "value": "1" },
    { "ID": "202001", "value": "1" },
    { "ID": "300007", "value": "1" }
            ]
        }
        drawsky(winWidth, winHeight);
        
        function drawsky(winWidth, winHeight) {
            var nodeAarry = new Array();
            var k = 1;// initial number of candidates to consider per circle
            var padding = 1;

            function bestCircleGenerator(maxRadius, padding) {
                var quadtree = d3.geom.quadtree().extent([[0, 0], [winWidth, winHeight]])([]),
                    searchRadius = maxRadius * 2,
                    maxRadius2 = maxRadius * maxRadius;

                return function (k, gloRadius) {
                    var bestX, bestY, bestDistance = 0;
                    var padding = 1;
                    for (var i = 0; i < k || bestDistance < padding; ++i) {
                        var x = Math.random() * winWidth,
                            y = Math.random() * winHeight,
                            rx1 = x - searchRadius,
                            rx2 = x + searchRadius,
                            ry1 = y - searchRadius,
                            ry2 = y + searchRadius,
                            minDistance = maxRadius; // minimum distance for this candidate

                        quadtree.visit(function (quad, x1, y1, x2, y2) {
                            if (p = quad.point) {
                                var p,
                                    dx = x - p[0],
                                    dy = y - p[1],
                                    d2 = dx * dx + dy * dy,
                                    r2 = p[2] * p[2];
                                if (d2 < r2)
                                    return minDistance = 0, true; // within a circle
                                var d = Math.sqrt(d2) - p[2];
                                if (d < minDistance) minDistance = d;
                            }
                            var isout = !minDistance || x1 > rx2 || x2 < rx1 || y1 > ry2 || y2 < ry1
                            return isout;
                        });

                        if (minDistance > bestDistance) bestX = x, bestY = y, bestDistance = minDistance;
                    }
                    var r = bestDistance;
                    var node;
                    if (r && bestX > r && bestX + r <  winWidth && bestY > r && bestY + r <  winHeight) {
                        for (var i = 0; i < nodeAarry.length; i++) {
                            if (nodeAarry[i].r <= r) {
                                r = nodeAarry[i].r;
                                nodeAarry[i].x1 = bestX;
                                nodeAarry[i].y1 = bestY;
                                node = nodeAarry[i];
                                nodeAarry.splice(i, 1)
                                break;
                            }
                        }
                        var best = [bestX, bestY, r];
                        quadtree.add(best);
                        return best;

                    }

                };
            }

            var svg = d3.select("body")			//选择<body>
                    .append("svg")			//在<body>中添加<svg>
                    .attr("width", winWidth)	//设定<svg>的宽度属性
                    .attr("height", winHeight);
            
             var title_hold = svg.append("g")
                            .attr("transform", function () {
                                var x =0;
                                var y = 0;
                                var result = "translate(" + x + "," + y + ") ";
                                return result;
                            })
                            .attr("width", title_width)
                            .attr("height", title_height);

                  var titleh = title_hold.append("text")
                  .attr("id", "t_text")
                  .attr("transform", function () {
                      var x = 180;
                      var y = 30;
                      var result = "translate(" + x + "," + y + ") ";
                      return result;
                  })
                  .attr("font-size", 30)
                  .attr("text-anchor", "middle")
                .style("opacity",0.7);  

        titleh.append("tspan")
              .text("The JJ Game Sky")
              .attr("fill", "white");

               titleh.append("tspan")
              .text(" 12:56 ")
              .attr("fill", "#F9F900")

              

            


            var pack = d3.layout.pack()
                    .size([winWidth, winHeight])
                    .sort(function (a, b) { return a.value < b.value })
                    .value(function (d) {
                        return d.value;
                    })
                .padding(30);
            //d3.json("data.json",function(error, root){
            var nodes = pack.nodes(root);
            //var color = d3.scale.category20c();
            var bubbles = svg.selectAll(".bubble")
                .data(nodes.filter(function (d) {
                    return !d.children;
                }))
                .enter()
                .append("g")
                .attr("class", "bubble");

            bubbles.append("text")
                .attr("x", function (d) { return d.x; })
                .attr("y", function (d) { return d.y; })
                .text(function (d) {
                    nodeAarry.push(d);
                });
            var maxr = nodeAarry[0].r;
            newCircle = bestCircleGenerator(maxr);
            for (var i = 0; i < 10000; i++) {
                if (nodeAarry.length < 1)
                    break;
                newCircle(1, maxr);
            }

            bubbles.append("circle")
            .style("fill", function (d, i) {
                return "#9D9C0E";
            })
            .attr("cx", function (d) {
                if(d.x1)
                    return d.x1;
                else return d.x;
            })
            .attr("cy", function (d) {
                if (d.y1)
                    return d.y1;
                else return d.y;
            })
            .attr("r", function (d) {
                return d.r;
            })
           .transition()
           .delay(2000)
           .duration(5000)
           .ease("bounce")
           .delay(function (d, i) {
               return 15 * i;
           })
           .attr("cx", function (d) { return d.x; })
           .attr("cy", function (d) { return d.y; })


            bubbles.append("text")
              .attr("x", function (d) { return d.x; })
              .attr("y", function (d) { return d.y; })
              .text(function (d) {
                  if (d.r > 20) {
                      return d.ID;
                  }
              });

        }
    </script>

</body>
</html>
